# Air Mouse Controller v2

基於手勢識別的虛擬滑鼠控制器，現在配備現代化的圖形用戶界面！

## 🚀 新功能

### 圖形化界面 (GUI)

- **現代化設計**: 使用 tkinter 構建的直觀界面
- **實時視頻預覽**: 在UI中直接查看攝像頭畫面和手勢識別
- **便捷控制**: 點擊按鈕即可調整所有設定
- **狀態監控**: 實時顯示FPS、GPU狀態、畫面方向等信息

### 畫面方向控制

- **旋轉調整**: 支援 0°、90°、180°、270° 旋轉
- **翻轉功能**: 水平/垂直翻轉攝像頭畫面
- **手部根部定位**: 確保手的根部始終在螢幕下方，提升操控體驗

### 效能優化

- **GPU加速**: 自動檢測並使用 OpenCV CUDA 和 TensorFlow GPU 加速
- **多執行緒處理**: UI 和視頻處理分離，確保界面流暢
- **動態FPS調整**: 實時調整處理頻率，平衡效能與精確度

## 📋 系統需求

- Python 3.7+
- 攝像頭（USB或內建）
- Windows 10/11（推薦）

## 🛠 安裝步驟

1. **克隆或下載項目**

   ```bash
   git clone <repository-url>
   cd air-mouse-v2
   ```

2. **安裝依賴項**

   ```bash
   pip install -r requirements.txt
   ```

3. **運行應用程序**

   ```bash
   # GUI模式（推薦）
   python app.py
   
   # 或雙擊 start.bat
   ```

## 🎮 使用方法

### 手勢控制

- **移動滑鼠**: 伸出食指
- **左鍵點擊**: 食指和中指伸直並快速靠近
- **右鍵點擊**: 食指和大拇指伸直並快速靠近
- **拖曳**: 食指和中指伸直保持距離
- **滾動**: 五指伸直，上下移動手部

### GUI控制面板

- **啟動/停止**: 控制手勢追蹤的開始與停止
- **FPS調整**: 使用滑桿調整處理頻率（10-100 FPS）
- **畫面旋轉**: 點擊按鈕調整攝像頭方向
- **狀態監控**: 查看當前運行狀態和系統信息

### 命令行選項

```bash
# 顯示幫助
python app.py --help

# 高效能模式（無GUI預覽）
python app.py --no-preview

# 設定初始FPS
python app.py --fps 60

# 設定初始畫面方向
python app.py --rotation 90 --flip-h

# 禁用GPU加速
python app.py --no-gpu
```

## 🔧 進階設定

### 畫面方向調整

如果您的攝像頭安裝方向與標準不同，可以使用以下方法調整：

1. **GUI模式**: 使用「畫面方向」面板中的按鈕
2. **命令行**: 使用 `--rotation`, `--flip-h`, `--flip-v` 參數
3. **運行時**: 在GUI中隨時調整，或使用快捷鍵（僅限非預覽模式）

### 效能優化建議

- **GPU加速**: 如有 NVIDIA GPU，安裝 CUDA 和 cuDNN 可顯著提升效能
- **攝像頭解析度**: 預設為 640x480，平衡效能與精確度
- **處理頻率**: 根據電腦效能調整，建議值：
  - 高階電腦: 60-80 FPS
  - 中階電腦: 40-60 FPS
  - 低階電腦: 20-40 FPS

## 🐛 疑難排解

### 常見問題

1. **攝像頭無法啟動**
   - 確認攝像頭已連接並正常工作
   - 關閉其他使用攝像頭的應用程序
   - 運行 `python test_ui.py` 進行診斷

2. **手勢識別不準確**
   - 確保手部在綠色框內
   - 調整攝像頭角度和光線
   - 使用畫面旋轉功能調整方向

3. **效能問題**
   - 降低FPS設定
   - 啟用高效能模式 `--no-preview`
   - 檢查GPU加速狀態

4. **依賴項問題**
   - 重新安裝: `pip install -r requirements.txt --force-reinstall`
   - 檢查Python版本是否符合要求

### 系統相容性

- ✅ Windows 10/11
- ✅ macOS（部分功能）
- ✅ Linux（部分功能）

## 📊 效能指標

在測試環境下的典型效能表現：

| 配置 | FPS | CPU使用率 | 延遲 |
|------|-----|-----------|------|
| GPU加速 + 60FPS | 60 | 15-25% | <50ms |
| CPU模式 + 30FPS | 30 | 40-60% | <100ms |
| 高效能模式 + 80FPS | 80 | 20-30% | <30ms |

## 🔄 更新日誌

### v2.0.0

- ✨ 全新圖形化界面
- ✨ 畫面方向控制功能
- ✨ 多執行緒視頻處理
- ✨ 實時狀態監控
- 🚀 GPU加速優化
- 🐛 修復多項穩定性問題

### v1.x.x

- 基礎手勢識別功能
- 命令行界面
- 基本效能優化

## 🤝 貢獻

歡迎提交 Issues 和 Pull Requests！

## 📄 授權

MIT License - 詳見 LICENSE 文件

---

**享受您的 Air Mouse 體驗！** 🖱️✨
